<!--   NOTE: This document is here as a template/placeholder for future pages      -->
<!-- The goal is to have something to copy/paste to have new pages be easy to make -->
<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <link rel="stylesheet" href="https://app.nullphish.com/static/css/master.css">
    <link rel="icon" href="https://app.nullphish.com/static/res/favicon-320.png">
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
    <title>NullPhish: Send SMS</title>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <style>

#particles-js{
        height: 100%;
        overflow: visible;
        width: 100%;
        padding: 0px;
        margin: 0px;
        position: absolute;
      }
      .contentcontainer{
        flex-direction: column;
      }
      .input-element{
        font-size: 30px;
      }
      input[type="text"] { 
        text-align: center;
        border-radius: .5em;
        line-height: 1.0;
        display: block;
        font-size: 16px;
        box-sizing: border-box;
        color: #444;
        border: 1px solid rgb(117, 117, 117);
        box-shadow: 0 1px 0 1px rgba(0,0,0,.04);
      }
      input.largerCheckbox { 
        transform : scale(2); 
        color: black;
      } 
      .checkbox {
        height:2vh;
        width:2vh;
      }
      .select-css {
        display: block;
        font-size: 16px;
        font-family: sans-serif;
        font-weight: 700;
        line-height: 1.0;

        box-sizing: border-box;
        margin: 0;
        color: #444;
        border: 1px solid rgb(117, 117, 117);
        box-shadow: 0 1px 0 1px rgba(0,0,0,.04);
        border-radius: .5em;
        -moz-appearance: none;
        -webkit-appearance: none;
        appearance: none;
        text-align: center;
      }
      .select-css::-ms-expand {
        display: none;
      }
      .select-css:hover {
        border-color: black;
      }
      .select-css:focus {
        border-color: #aaa;
        box-shadow: 0 0 1px 3px rgba(59, 153, 252, .7);
        box-shadow: 0 0 0 3px -moz-mac-focusring;
        color: #222;
        outline: none;
      }
      .select-css option {
        font-weight:normal;
      }
      .stats tr:nth-child(odd)	{ 
  background-color: #9D9D9D; 
  color: black;
}
    </style>
  </head>
      <body id="particles-js">
        <div id="navigation">
          <a href="/main" class="active">Tools</a>
          <a href="/schedulephish">Phishing</a>
          <a href="/phishingstats">Stats</a>
          <a href="/profile">Profile</a>
          <a href="#" onclick="showlogoutconfirmation();">Log Out</a>
        </div>
        <div class="contentcontainer">
          <div id="header">
            <h1 style="color:white">Send SMS</h1>
          </div>
<a style="color:white">
        {% with messages = get_flashed_messages(category_filter=["category2"]) %}
        {% if messages %}
          {% for message in messages %}
        {{ message }}
          {% endfor %}
        {% endif %}
        {% endwith %}</a>

        <form method="POST">
        <select style="width: 30%" name='userpick' class="form-control" id="userpick">
          <option>Users</option>
          {% for item in userquery %}
          <option value="{{ item.username }}">{{ item.username }} | {{ item.firstname }} | {{ item.lastname }} | {{ item.department }} | {{ item.role }}</option>
          {% endfor %}     
        </select>
        </form>
        <script>
          $(function() {
            $('#userpick').change(function() {
              this.form.submit();
            });
          });
        </script> 
        <br><br>
  {% if selecteduser %}
	<table class="stats dataframe">
		<tr>
			<th style="width: fit-content;" width="5%">Department</th>
			<th style="width: fit-content;">First</th>
			<th style="width: fit-content;">Last</th>
            <th style="width: 20%">Email&nbsp;Address</td>
            <th style="width: fit-content;">Phone&nbsp;Number&nbsp;(format:&nbsp;8054441111)</th>
            <th style="width: 40%; max-width: 60%">Message&nbsp;Contents&nbsp;(160 characters&nbsp;per&nbsp;message)</th>
            <th>Send</th>
		</tr>


{% for item in selecteduser %}
    <form method="POST">
      <td>{{ item.department }}</td><td>{{ item.firstname }}</td><td>{{ item.lastname }}</td><td>
        {{ item.username }}</td>
    </td><td><input name="phonenumber" placeholder="{{ item.phone | replace ('none', 'Please enter a phone number for this user in User Management')}}" value="{{ item.phone }}" readonly></td>
    <td style="width: fit-content" name="txtmessage"><input type="text" style="width:95%" name="txtmessage" placeholder="Message here"></td>
    <td style="width: fit-content;"><button type="submit" style="width: fit-content; font-size:1em;" class="button">Phish!</button></form></td>
{% endfor %}
	</table>
{% endif %}

    </div>
    <script type="text/javascript"  src="https://app.nullphish.com/static/js/particlesjs/particles.min.js"></script>
    <script type="text/javascript"  src="https://app.nullphish.com/static/js/particlesjs/app.js"></script>
    <script type="text/javascript"  src="https://app.nullphish.com/static/js/master.js"></script>
  </body>
</html>
<!--   NOTE: This document is here as a template/placeholder for future pages      -->
<!-- The goal is to have something to copy/paste to have new pages be easy to make -->
<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <link rel="stylesheet" href="https://app.nullphish.com/static/css/master.css">
    <link rel="icon" href="https://app.nullphish.com/static/res/favicon-320.png">
    <title>E-Mail Phishing</title>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <style>
      #particles-js{
        height: 100%;
        overflow: visible;
        width: 100%;
        padding: 0px;
        margin: 0px;
        position: absolute;
      }
      .input-element{
        font-size: 30px;
        width: 400px;
      }
      .contentcontainer{
        grid-template-columns: auto;
        grid-template-rows: auto auto auto;
        row-gap: 30px;
        z-index: 999;
        height: 100%;
        padding-bottom: 40%;
      }
      .contentcontainer h1{
        font-size: calc(24px + 0.5vw);
        
        vertical-align: middle;
        grid-column-start: 1;
        grid-column-end: 2;
        grid-row-start: 1;
        grid-row-end: 2;
      }
      table.dataframe, .dataframe th, .dataframe td {
      border: line;
      border-bottom: 1px solid black;
      border-top: 1px solid black;
      border-collapse: collapse;
      border-left: 1px solid black;
      border-right: 1px solid black;
      text-align: center;
      padding: .8%;
      margin-bottom: 0px;
      font-size: 1em;
      color: black;
    }

    tr.border_bottom td {
      border-bottom:1pt solid black;
    }
    .table {
      
      width: 100%;
     
    }
    .checkbox {

      height:3vh;
      width:3vh;

    }
    tr:nth-child(odd)		{ background-color: lightgrey; }
    tr:nth-child(even)	{ background-color:darkgrey; }
    tr:first-child { background-color: transparent;}
    tr:hover:first-child { background-color: transparent; }
    tr:hover            { background-color: #d5e9f9;}
    </style>
    <script src="https://ajax.aspnetcdn.com/ajax/jQuery/jquery-3.4.1.min.js"></script> 
  </head>
  <body id="particles-js" onresize="checkcontentcontainers();checknav()" onload="checkcontentcontainers();checknav()">
    <div id="particles-js"></div>
    <nav>
      <div id="dropdown">
        <div id="dropcontent">
          <a href="/main">Modules</a>
          <a href="/logout">Log Out</a>
        </div>
      </div>
      <table id="mainmenu">
          <tr>
            <td><a href="/main">Modules</a></td>
            <td><a href="/logout">Log Out</a></td>
        </tr>
      </table>
    </nav>
    <div class="contentcontainer">
      <div><h1>E-Mail Phishing</h1></div>

      
    <h1>{% with messages = get_flashed_messages(category_filter=["category2"]) %}
      {% if messages %}
        <ul class="flashes w3-jumbo" style="color: white">
        {% for message in messages %}
      {{ message }}
        {% endfor %}
        </ul>
      {% endif %}
      {% endwith %}</h1>

<table class="table table-hover dataframe">
  <thead>
    <tr style="background-color: #97c8f0; text-align:center; " class="border_bottom" >
    <td style="border-radius: 25px 0px 0px 0px;">Department</td>
    <td>First</td>
    <td>Last</td>
          <td>Email Address</td>
          <td>Template</td>
          <td>Mail Server</td>
          <td>Shorten URL</td>
          <td style="border-radius: 0px 25px 0px 0px;">Phish!</td>
  </tr>
  {% for item in businessdata %}
  <form method="POST">
<tr style="text-align:center;" class="border_bottom">
    <td>{{item[8]}}</td>
  <td name="firstname"><input type="hidden" name="firstname" value="{{item[3]}}">{{item[3]}}</td>
  <td name="lastname"><input type="hidden" name="lastname" value="{{item[4]}}">{{item[4]}}</td>
      <td name="email"><input type="hidden" name="email" value="{{item[1]}}">{{item[1]}}</td>
      <td>        <select name="templates" class="form-control" id="templates">
          <option>Templates</option>
              {% for row in availtemplates %}
                  <option>{{ row }}</option>
              {% endfor %}
      </select>
      <td>
        {% if serverlist %}
        <select name="smtpserver" class="form-control" id="smtpserver">
        <option>Mail Server</option>
          {% for row in serverlist %}
          <option id={{row}} name={{row}}>{{ row }}</option>
          {% endfor %}
        </select>
      </td>
      {% endif %}
      <td>
        <input type="checkbox" id="shorten" name="shorten" value="bitly" class="checkbox">
<label for="shorten"></label>
      </td>
  </td>

      <td><button style="width: 6.5vw;" type="submit" class="btn button btn-primary">Phish!</button></form></td>
      {% endfor %}
</tr>

</table>

    <br>
      
<div class="ex2">
  <center>
<form method="POST">
  
    <td>        <select style="width: 30%" name= "templateview" class="form-control" id="templateview">
      <option>Templates</option>
          {% for row in availtemplates %}
              <option>{{ row }}</option>
          {% endfor %}
  </select>
</td>
</form>
<script>
$(function() {
$('#templateview').change(function() {
    this.form.submit();
});
});
</script>
</div>

{% if templateview %}
<iframe height="1000px" width="1200px" src="{{ templateview }}">
</iframe>
{% endif %}
{% if templatecustom %}
<iframe height="1000px" width="1200px" src="https://app.nullphish.com/gophishing/{{ templatecustom }}">
</iframe>
{% endif %}

</center>

    </div>
    <script type="text/javascript"  src="https://app.nullphish.com/static/js/particlesjs/particles.min.js"></script>
    <script type="text/javascript"  src="https://app.nullphish.com/static/js/particlesjs/app.js"></script>
    <script type="text/javascript"  src="https://app.nullphish.com/static/js/master.js"></script>
  </body>
</html>
